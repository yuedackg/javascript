# 講義資料

## 当たり判定

当たり判定は、動く対象物が次の位置に移動したときに、被対象物があるかどうかを判定する作業

今回の迷路においては、キャラクターの位置、壁、道をすべて同じサイズのブロックで表現するために、比較はその座標にキャラクタがあるか否かを判断するだけでよい

この単純な当たり判定は、2次元配列や、3次元配列を利用して行えるために、比較的単純菜比較にで行えるのがポイント

現在位置が（X,Y）とする。
移動先の位置が(X,Y+1)とする

1)移動する前に、(X,Y+1)の座標に何があるかを調べる
Yes)移動できるのであれば、移動する。
No ）移動できない場合には、その後の移動処理をスキップする

と変更することで、衝突判定を組み込むことができる

## 高度な当たり判定

ゲームセンターで、1990年くらいには、巨大キャラクターを伴ったゲームが導入される。
このゲームの特徴は、
・ゲームのキャラが無駄にでかい
・キャラクター形状が矩形（正方形・長方形）ではない
のが特徴

キャラクタサイズが大きくなると、衝突判定の部位が大きくなるために処理が複雑化する

キャラクタ形状が複雑化すると、キャラクタの形状によって衝突しない部位が増えてくるために、当たり判定が複雑化する

キャラクタデザインとして、多種の色、複雑な形状を扱う場合、
形状パターン（2値）を利用する方法がある。
・画面上の衝突要素が入る部分には形状パターンを配置する
・形状パターン（2値）の衝突判定だと簡単な計算方法が存在する

## 整列（Sort）

### 整列の可視化
整列が十分高速に行われる場合には、その並び替えの様子を確認することができない。

整列を行う時に、要素を交換するときに、画面の再表示を行うようなプログラムを作る。

タイマー動作と、画面の再描画を学習する

### タイマー動作

1. 一回だけのタイマー動作の登録
    setTimeout()関数を使用して処理を登録する

1. 定期的なタイマー動作の登録
    setInterval()関数を使用して、処理を登録する